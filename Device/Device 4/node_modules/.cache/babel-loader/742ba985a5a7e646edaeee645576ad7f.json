{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.utils = exports.PublicKey = exports.PrivateKey = exports.decrypt = exports.encrypt = void 0;\n\nvar keys_1 = require(\"./keys\");\n\nvar utils_1 = require(\"./utils\");\n\nvar consts_1 = require(\"./consts\");\n\nfunction encrypt(receiverRawPK, msg) {\n  console.log(\"HERE: \" + receiverRawPK);\n  var ephemeralKey = new keys_1.PrivateKey();\n  var receiverPK = receiverRawPK instanceof Buffer ? new keys_1.PublicKey(receiverRawPK) : keys_1.PublicKey.fromHex(receiverRawPK);\n  var aesKey = ephemeralKey.encapsulate(receiverPK);\n  var encrypted = (0, utils_1.aesEncrypt)(aesKey, msg);\n  return Buffer.concat([ephemeralKey.publicKey.uncompressed, encrypted]);\n}\n\nexports.encrypt = encrypt;\n\nfunction decrypt(receiverRawSK, msg) {\n  var receiverSK = receiverRawSK instanceof Buffer ? new keys_1.PrivateKey(receiverRawSK) : keys_1.PrivateKey.fromHex(receiverRawSK);\n  var senderPubkey = new keys_1.PublicKey(msg.slice(0, consts_1.UNCOMPRESSED_PUBLIC_KEY_SIZE));\n  var encrypted = msg.slice(consts_1.UNCOMPRESSED_PUBLIC_KEY_SIZE);\n  var aesKey = senderPubkey.decapsulate(receiverSK);\n  return (0, utils_1.aesDecrypt)(aesKey, encrypted);\n}\n\nexports.decrypt = decrypt;\n\nvar keys_2 = require(\"./keys\");\n\nconst {\n  log\n} = require(\"console\");\n\nObject.defineProperty(exports, \"PrivateKey\", {\n  enumerable: true,\n  get: function () {\n    return keys_2.PrivateKey;\n  }\n});\nObject.defineProperty(exports, \"PublicKey\", {\n  enumerable: true,\n  get: function () {\n    return keys_2.PublicKey;\n  }\n});\nexports.utils = {\n  aesDecrypt: utils_1.aesDecrypt,\n  aesEncrypt: utils_1.aesEncrypt,\n  decodeHex: utils_1.decodeHex,\n  getValidSecret: utils_1.getValidSecret,\n  remove0x: utils_1.remove0x\n};","map":{"version":3,"sources":["C:/Users/abhi/Desktop/etherium/endproject/Device/Device 1/node_modules/eciesjs/dist/index.js"],"names":["Object","defineProperty","exports","value","utils","PublicKey","PrivateKey","decrypt","encrypt","keys_1","require","utils_1","consts_1","receiverRawPK","msg","console","log","ephemeralKey","receiverPK","Buffer","fromHex","aesKey","encapsulate","encrypted","aesEncrypt","concat","publicKey","uncompressed","receiverRawSK","receiverSK","senderPubkey","slice","UNCOMPRESSED_PUBLIC_KEY_SIZE","decapsulate","aesDecrypt","keys_2","enumerable","get","decodeHex","getValidSecret","remove0x"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.utils = exports.PublicKey = exports.PrivateKey = exports.decrypt = exports.encrypt = void 0;\nvar keys_1 = require(\"./keys\");\nvar utils_1 = require(\"./utils\");\nvar consts_1 = require(\"./consts\");\nfunction encrypt(receiverRawPK, msg) {\n    console.log(\"HERE: \" + receiverRawPK);\n    var ephemeralKey = new keys_1.PrivateKey();\n    var receiverPK = receiverRawPK instanceof Buffer\n        ? new keys_1.PublicKey(receiverRawPK)\n        : keys_1.PublicKey.fromHex(receiverRawPK);\n    var aesKey = ephemeralKey.encapsulate(receiverPK);\n    var encrypted = (0, utils_1.aesEncrypt)(aesKey, msg);\n    return Buffer.concat([ephemeralKey.publicKey.uncompressed, encrypted]);\n}\nexports.encrypt = encrypt;\nfunction decrypt(receiverRawSK, msg) {\n    var receiverSK = receiverRawSK instanceof Buffer\n        ? new keys_1.PrivateKey(receiverRawSK)\n        : keys_1.PrivateKey.fromHex(receiverRawSK);\n    var senderPubkey = new keys_1.PublicKey(msg.slice(0, consts_1.UNCOMPRESSED_PUBLIC_KEY_SIZE));\n    var encrypted = msg.slice(consts_1.UNCOMPRESSED_PUBLIC_KEY_SIZE);\n    var aesKey = senderPubkey.decapsulate(receiverSK);\n    return (0, utils_1.aesDecrypt)(aesKey, encrypted);\n}\nexports.decrypt = decrypt;\nvar keys_2 = require(\"./keys\");\nconst { log } = require(\"console\");\nObject.defineProperty(exports, \"PrivateKey\", { enumerable: true, get: function () { return keys_2.PrivateKey; } });\nObject.defineProperty(exports, \"PublicKey\", { enumerable: true, get: function () { return keys_2.PublicKey; } });\nexports.utils = {\n    aesDecrypt: utils_1.aesDecrypt,\n    aesEncrypt: utils_1.aesEncrypt,\n    decodeHex: utils_1.decodeHex,\n    getValidSecret: utils_1.getValidSecret,\n    remove0x: utils_1.remove0x,\n};\n"]},"metadata":{},"sourceType":"script"}